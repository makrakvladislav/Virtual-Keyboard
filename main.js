(()=>{"use strict";const e=[{en:[{code:"Backquote",value:"`",shift:"~"},{code:"Digit1",value:"1",shift:"!"},{code:"Digit2",value:"2",shift:"@"},{code:"Digit3",value:"3",shift:"#"},{code:"Digit4",value:"4",shift:"$"},{code:"Digit5",value:"5",shift:"%"},{code:"Digit6",value:"6",shift:"^"},{code:"Digit7",value:"7",shift:"&"},{code:"Digit8",value:"8",shift:"*"},{code:"Digit9",value:"9",shift:"("},{code:"Digit0",value:"0",shift:")"},{code:"Minus",value:"-",shift:"_"},{code:"Equal",value:"=",shift:"+"},{code:"Backspace",value:"Backspace",shift:null},{code:"Tab",value:"Tab",shift:null},{code:"KeyQ",value:"q",shift:"Q"},{code:"KeyW",value:"w",shift:"W"},{code:"KeyE",value:"e",shift:"E"},{code:"KeyR",value:"r",shift:"R"},{code:"KeyT",value:"t",shift:"T"},{code:"KeyY",value:"y",shift:"Y"},{code:"KeyU",value:"u",shift:"U"},{code:"KeyI",value:"i",shift:"I"},{code:"KeyO",value:"o",shift:"O"},{code:"KeyP",value:"p",shift:"P"},{code:"BracketLeft",value:"[",shift:"{"},{code:"BracketRight",value:"]",shift:"}"},{code:"Backslash",value:"\\",shift:"|"},{code:"Delete",value:"Del",shift:null},{code:"CapsLock",value:"CapsLock",shift:null},{code:"KeyA",value:"a",shift:"A"},{code:"KeyS",value:"s",shift:"S"},{code:"KeyD",value:"d",shift:"D"},{code:"KeyF",value:"f",shift:"F"},{code:"KeyG",value:"g",shift:"G"},{code:"KeyH",value:"h",shift:"H"},{code:"KeyJ",value:"j",shift:"J"},{code:"KeyK",value:"k",shift:"K"},{code:"KeyL",value:"l",shift:"L"},{code:"Semicolon",value:";",shift:":"},{code:"Quote",value:"'",shift:'"'},{code:"Enter",value:"Enter",shift:null},{code:"ShiftLeft",value:"Shift",shift:null},{code:"KeyZ",value:"z",shift:"Z"},{code:"KeyX",value:"x",shift:"X"},{code:"KeyC",value:"c",shift:"C"},{code:"KeyV",value:"v",shift:"V"},{code:"KeyB",value:"b",shift:"B"},{code:"KeyN",value:"n",shift:"N"},{code:"KeyM",value:"m",shift:"M"},{code:"Comma",value:",",shift:"<"},{code:"Period",value:".",shift:">"},{code:"Slash",value:"/",shift:"?"},{code:"ShiftRight",value:"Shift",shift:null},{code:"ControlLeft",value:"Ctrl",shift:null},{code:"MetaLeft",value:"Win",shift:null},{code:"AltLeft",value:"Alt",shift:null},{code:"Space",value:" ",shift:null},{code:"AltRight",value:"Alt",shift:null},{code:"ControlRight",value:"Ctrl",shift:null},{code:"ArrowLeft",value:"⇦",shift:null},{code:"ArrowUp",value:"⇧",shift:null},{code:"ArrowDown",value:"⇩",shift:null},{code:"ArrowRight",value:"⇨",shift:null}],ru:[{code:"Backquote",value:"ё",shift:"Ё"},{code:"Digit1",value:"1",shift:"!"},{code:"Digit2",value:"2",shift:'"'},{code:"Digit3",value:"3",shift:"№"},{code:"Digit4",value:"4",shift:";"},{code:"Digit5",value:"5",shift:"%"},{code:"Digit6",value:"6",shift:":"},{code:"Digit7",value:"7",shift:"?"},{code:"Digit8",value:"8",shift:"*"},{code:"Digit9",value:"9",shift:"("},{code:"Digit0",value:"0",shift:")"},{code:"Minus",value:"-",shift:"_"},{code:"Equal",value:"=",shift:"+"},{code:"Backspace",value:"Backspace",shift:null},{code:"Tab",value:"Tab",shift:null},{code:"KeyQ",value:"й",shift:"Й"},{code:"KeyW",value:"ц",shift:"Ц"},{code:"KeyE",value:"у",shift:"У"},{code:"KeyR",value:"к",shift:"К"},{code:"KeyT",value:"е",shift:"Е"},{code:"KeyY",value:"н",shift:"Н"},{code:"KeyU",value:"г",shift:"Г"},{code:"KeyI",value:"ш",shift:"Ш"},{code:"KeyO",value:"щ",shift:"Щ"},{code:"KeyP",value:"з",shift:"З"},{code:"BracketLeft",value:"х",shift:"Х"},{code:"BracketRight",value:"ъ",shift:"Ъ"},{code:"Backslash",value:"\\",shift:"/"},{code:"Delete",value:"Del",shift:null},{code:"CapsLock",value:"CapsLock",shift:null},{code:"KeyA",value:"ф",shift:"Ф"},{code:"KeyS",value:"ы",shift:"Ы"},{code:"KeyD",value:"в",shift:"В"},{code:"KeyF",value:"а",shift:"А"},{code:"KeyG",value:"п",shift:"П"},{code:"KeyH",value:"р",shift:"Р"},{code:"KeyJ",value:"о",shift:"О"},{code:"KeyK",value:"л",shift:"Л"},{code:"KeyL",value:"д",shift:"Д"},{code:"Semicolon",value:"ж",shift:"Ж"},{code:"Quote",value:"э",shift:"Э"},{code:"Enter",value:"Enter",shift:null},{code:"ShiftLeft",value:"Shift",shift:null},{code:"KeyZ",value:"я",shift:"Я"},{code:"KeyX",value:"ч",shift:"Ч"},{code:"KeyC",value:"с",shift:"С"},{code:"KeyV",value:"м",shift:"М"},{code:"KeyB",value:"и",shift:"И"},{code:"KeyN",value:"т",shift:"Т"},{code:"KeyM",value:"ь",shift:"Ь"},{code:"Comma",value:"б",shift:"Б"},{code:"Period",value:"ю",shift:"Ю"},{code:"Slash",value:".",shift:","},{code:"ShiftRight",value:"Shift",shift:null},{code:"ControlLeft",value:"Ctrl",shift:null},{code:"MetaLeft",value:"Win",shift:null},{code:"AltLeft",value:"Alt",shift:null},{code:"Space",value:" ",shift:null},{code:"AltRight",value:"Alt",shift:null},{code:"ControlRight",value:"Ctrl",shift:null},{code:"ArrowLeft",value:"⇦",shift:null},{code:"ArrowUp",value:"⇧",shift:null},{code:"ArrowDown",value:"⇩",shift:null},{code:"ArrowRight",value:"⇨",shift:null}]}],t=function(e,t,a,i,l){if("key-button"===t){var o=document.createElement(e);o.classList.add(t);var u=document.createElement("span");u.classList.add("key-value"),u.innerHTML=a,o.append(u),o.value=i;var s=document.createElement("span");return s.classList.add("key-shift"),s.innerHTML=l,o.append(s),o}var c=document.createElement(e);return c.classList.add(t),c.innerHTML=a,c.value=i,c};function a(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const i=function(){function i(t,a,l){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.keyCode=t,this.lang=a,this.data=[],this.textArea=l,e[0][this.lang].forEach((function(){o.data=e[0][o.lang].find((function(e){return e.code===t}))}))}var l,o;return l=i,(o=[{key:"createKey",value:function(){var e=this;return this.key=t("button","key-button",this.data.value,this.keyCode,""),this.key.onclick=function(t){e.click(t.target)},this.key}},{key:"click",value:function(){this.print()}},{key:"keyDown",value:function(){this.print(),this.key.classList.add("active"),"ShiftLeft"===this.keyCode&&(this.shift=!0,this.keyboard.changeLanguage())}},{key:"keyUp",value:function(){this.key.classList.remove("active"),"ShiftLeft"===this.keyCode&&(this.shift=!1,this.keyboard.changeLanguage())}},{key:"print",value:function(){var e=this.textArea,t=e.value,a=e.selectionStart,i=e.selectionEnd;"Tab"===this.key.value?e.value+="    ":"Enter"===this.keyCode?e.value+="\n":"Backspace"===this.keyCode?(e.value=t.substring(0,a-1)+t.substring(i),e.setSelectionRange(a-1,a-1)):"Delete"===this.keyCode?(e.value=t.substring(0,a)+t.substring(a+1),e.setSelectionRange(a,a)):"ShiftLeft"===this.keyCode||"ShiftRight"===this.keyCode?e.textContent.toUpperCase():e.value+=this.data.value,e.focus()}},{key:"changeLanguage",value:function(){var t=this,a=this.keyboard,i=a.lang,l=a.shift;e[0][i].forEach((function(){t.data=e[0][i].find((function(e){return e.code===t.keyCode}))})),this.key.innerHTML='<span class="key-value">'.concat(l?this.data.shift:this.data.value,"</span>"),localStorage.setItem("language",i)}}])&&a(l.prototype,o),Object.defineProperty(l,"prototype",{writable:!1}),i}();function l(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const o=function(){function e(t,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lang=t,this.textArea=a,this.shift=i}var a,o;return a=e,(o=[{key:"generateKeyboard",value:function(){var e=this;this.template=[["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace"],["Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete"],["CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter"],["ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight"],["ControlLeft","MetaLeft","AltLeft","Space","AltRight","ControlRight","ArrowLeft","ArrowDown","ArrowRight"]];var a=document.body,l=t("div","container","","");a.append(l);var o=t("div","keyboard-wrapper","",""),u=t("textarea","keyboard__input","","");l.append(u),l.append(o),this.keys={},this.template.forEach((function(t){var a=document.createElement("div");a.classList.add("keyboard__row"),t.forEach((function(t){var l=new i(t,e.lang,u);e.keys[t]=l,l.keyboard=e,a.append(l.createKey())})),o.append(a)})),document.addEventListener("keydown",(function(t){return e.eventHandler(t)})),document.addEventListener("keyup",(function(t){e.eventHandler(t)}))}},{key:"eventHandler",value:function(e){e.preventDefault(),e.stopPropagation();var t=localStorage.getItem("language"),a=this.keys,i=e.code;"keydown"===e.type&&(this.lang=t,"ShiftLeft"!==i&&"ShiftRight"!==i||(this.shift=!0),a[i].keyDown(e)),"keyup"===e.type&&(a[i].keyUp(e),"ShiftLeft"!==i&&"ShiftRight"!==i||(this.shift=!1),a[i].keyUp(e)),e.ctrlKey&&e.altKey&&(t="ru"===t?"en":"ru",this.lang=t,this.changeLanguage())}},{key:"changeLanguage",value:function(){var e=this;Object.keys(this.keys).forEach((function(t){e.keys[t].changeLanguage()}))}}])&&l(a.prototype,o),Object.defineProperty(a,"prototype",{writable:!1}),e}();window.onload=function(){var e;localStorage.getItem("language")?e=localStorage.getItem("language"):localStorage.setItem("language","en");var a=document.body,i=t("header","header","",""),l=t("h1","header-title","RSS Virtual Keyboard",""),u=t("h3","header-subtitle","Клавиатура создана в операционной системе Windows </br>","");a.append(i),i.append(l),i.append(u),u.innerHTML+="Для переключения языка комбинация: левыe ctrl + alt",new o(e).generateKeyboard()}})();
//# sourceMappingURL=main.js.map